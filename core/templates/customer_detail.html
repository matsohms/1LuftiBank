<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Kundenprofil</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f7f7f7; }
    .container { background: #eee; padding: 20px; margin: 40px auto; width: 90%; max-width: 600px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    tr:nth-child(odd)  { background: #ddd; }
    tr:nth-child(even) { background: #ccc; }
    th, td { padding: 12px; text-align: left; vertical-align: top; }
    h1 { margin-bottom: 20px; }
    .actions { margin-top: 20px; }
    button { border: none; padding: 8px 16px; font-family: Arial; margin-right: 10px; }
    .btn-primary   { background: #007bff; color: #fff; }
    .btn-secondary { background: #6c757d; color: #fff; }
    .btn-danger    { background: #343a40; color: #fff; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Name oben -->
    <h1>{{ customer.first_name }}{% if customer.middle_names %} {{ customer.middle_names }}{% endif %} {{ customer.last_name }}</h1>

    <!-- Detail-Tabelle -->
    <table>
      <tr><th>Kunden-Nr.</th><td>{{ customer.customer_number }}</td></tr>
      <tr><th>Erstellt am</th><td>{{ customer.created_at|date:"d.m.Y H:i" }}</td></tr>
      <tr><th>Erweiterte Sicherheitsstufe</th><td>{{ customer.get_security_level_display }}</td></tr>
      {% if customer.security_level == 'question' %}
      <tr><th>Sicherheitsfrage</th><td>{{ customer.get_security_question_display }}</td></tr>
      {% endif %}
      <tr><th>Name</th>
        <td>
          {{ customer.first_name }}{% if customer.middle_names %} {{ customer.middle_names }}{% endif %} {{ customer.last_name }}
        </td>
      </tr>
      <tr><th>Adresse</th>
        <td>
          {{ customer.address_line1 }} {{ customer.house_number }}<br>
          {{ customer.postal_code }} {{ customer.city }}
        </td>
      </tr>
      {% if customer.address_extra %}
      <tr><th>Adresszusatz</th><td>{{ customer.address_extra }}</td></tr>
      {% endif %}
      <tr><th>Geburtsdatum</th><td>{{ customer.birth_date }}</td></tr>
      <tr><th>Telefon</th><td>{{ customer.phone }}</td></tr>
      <tr><th>E-Mail</th><td>{{ customer.email }}</td></tr>
      {% if customer.passport_number %}
      <tr><th>Passnummer</th><td>{{ customer.passport_number }}</td></tr>
      {% endif %}
    </table>

    <!-- Aktion-Buttons -->
    <div class="actions">
      <a href="{% url 'customer_edit' customer.pk %}">
        <button class="btn-primary">Kunde bearbeiten</button>
      </a>
      <a href="{% url 'customer_list' %}">
        <button class="btn-secondary">Zurück</button>
      </a>
      {% if customer.security_level != 'none' %}
        <a href="{% url 'customer_security' customer.pk %}">
          <button class="btn-danger">Sicherheitsprüfung</button>
        </a>
      {% endif %}
    </div>
  </div>
</body>
</html>
